{% comment %}
  Address Autocomplete Loader
  This snippet loads the address autocomplete functionality
  Add this to your theme.liquid or customer account template
{% endcomment %}

{%- if customer or template.name == 'customers/account' or template.name == 'customers/addresses' -%}
  {%- comment -%} Load CSS {%- endcomment -%}
  {{ 'address-autocomplete.css' | asset_url | stylesheet_tag }}
  
  {%- comment -%} Load JavaScript {%- endcomment -%}
  <script src="{{ 'address-autocomplete.js' | asset_url }}" defer></script>
  
  {%- comment -%} Configuration {%- endcomment -%}
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      if (window.AddressAutocomplete && window.AddressAutocomplete.config) {
        // Configure API endpoint
        window.AddressAutocomplete.config.apiEndpoint = '{{ shop.url }}/apps/address-autocomplete/search';
        window.AddressAutocomplete.config.enabled = true;
        
        console.log('[Address Autocomplete] Configured and ready');
      }
    });
  </script>
{%- endif -%}

